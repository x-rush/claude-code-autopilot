---
description: 启动完整的AutoPilot工作流程 - 从需求讨论到自主执行
---

# /autopilot-continuous-start
启动Claude Code AutoPilot完整工作流程：基于用户需求任务的深度讨论，生成需求对齐文件，制定执行计划，实现24小时无人值守的自主执行和状态管理。

## 🎯 严格工作流程约束

**必须严格遵循的工作流程**：
1. **用户需求任务** → 2. **深度讨论决策** → 3. **生成需求对齐** → 4. **制定执行计划** → 5. **Claude Code自主执行** → 6. **持续状态更新** → 7. **需求对齐验证**

**核心约束**：
- **从用户需求出发**：一切从你发布的原始需求任务开始
- **充分讨论决策**：详细讨论所有技术方案、实现细节和决策点
- **动态生成规划**：基于讨论结果生成项目特定的执行计划和状态跟踪文件
- **持续自主更新**：执行过程中Claude Code自主更新状态并确认需求对齐

## 🚀 第一阶段：需求深度讨论

### 1. 原始需求解析
请首先告诉我你的具体需求任务：

#### 需求任务描述
- **核心目标**：你想要实现的具体目标是什么？
- **功能需求**：需要实现哪些具体功能？
- **使用场景**：最终成果将如何被使用？
- **成功标准**：什么样的结果算作成功完成？

#### 约束条件识别
- **技术约束**：是否有特定的技术栈、平台或工具要求？
- **时间约束**：是否有时间限制或截止日期？
- **资源约束**：是否有资源限制或特殊要求？
- **质量约束**：是否有特定的质量标准或合规要求？

### 2. 技术方案讨论
基于你的需求，我们将深入讨论技术实现方案：

#### 架构设计讨论
- **整体架构**：最适合的架构模式和设计原则
- **技术栈选择**：编程语言、框架、数据库等选择
- **数据结构**：数据组织和存储方式
- **接口设计**：模块间和外部系统的接口设计

#### 实现细节讨论
- **代码组织**：文件结构和模块划分方式
- **核心算法**：关键功能的实现逻辑
- **错误处理**：异常和错误的处理策略
- **性能考虑**：性能优化和扩展性设计

### 3. 质量标准设定
我们将明确项目的质量要求：

#### 代码质量标准
- **代码风格**：格式规范、命名约定、注释要求
- **结构标准**：模块化程度、耦合度控制
- **测试策略**：测试类型、覆盖率要求、测试工具
- **文档要求**：技术文档的类型和详细程度

#### 交付标准定义
- **功能完整性**：功能实现的程度和质量要求
- **性能指标**：响应时间、吞吐量、资源使用等目标
- **安全标准**：安全检查和合规要求
- **可维护性**：代码可读性、可扩展性要求

### 4. 用户偏好确认
我将了解你的个人偏好和工作方式：

#### 工作方式偏好
- **详细程度**：偏好详细的实现指导还是概要说明
- **创新程度**：偏好创新性方案还是成熟稳定方案
- **沟通方式**：希望频繁沟通还是定期汇报
- **决策参与度**：希望深度参与决策还是授权执行

#### 风险管理偏好
- **不确定性容忍**：对不确定性和变化的接受程度
- **错误处理**：遇到错误时的处理方式偏好
- **范围变更**：对需求变更的灵活性和处理方式
- **时间调整**：对时间安排调整的接受程度

## 📊 第二阶段：动态生成需求对齐文件

基于我们的深度讨论，我将：

### 1. 读取结构定义
```javascript
// Claude Code内部处理流程
读取 templates/REQUIREMENT_ALIGNMENT.json 获取完整的数据结构定义
```

### 2. 生成项目特定需求对齐文件
我将基于讨论结果动态生成：

#### 用户原始任务记录
- 完整记录你发布的原始需求描述
- 保留需求的完整性和准确性
- 明确任务的核心目标和成功标准

#### 分析需求结构
- **功能性需求**：基于讨论整理的具体功能需求
- **非功能性需求**：性能、安全、可用性等质量要求
- **技术约束**：明确的技术选型和平台限制
- **业务约束**：时间、预算、合规等业务限制

#### 用户目标结构
- **核心目标**：项目的主要目标和愿景
- **成功标准**：可量化的成功指标和验收条件
- **目标用户**：最终用户群体和使用特征
- **使用场景**：具体的使用场景和应用环境

#### 交付物清单
- 基于讨论确定的具体交付物
- 每个交付物的详细要求和验收标准
- 交付物的优先级和依赖关系

#### 预设决策配置
- 记录讨论中确定的所有技术选择
- 设定决策的触发条件和备选方案
- 明确决策的标准和选择理由
- 配置决策的实施和验证方法

#### 执行偏好设置
- 记录你的工作方式偏好和质量要求
- 配置代码风格、文档风格等具体参数
- 设定风险容忍度和错误处理策略

### 3. 需求对齐验证
我将与你确认：

#### 理解准确性验证
- 我是否准确理解了你的所有需求？
- 是否有误解、遗漏或需要澄清的地方？
- 需求描述是否完全反映了你的真实意图？

#### 技术方案合理性验证
- 讨论的技术方案是否完全符合你的期望？
- 是否有其他偏好的实现方式或技术选择？
- 技术选择是否最适合项目需求和约束？

#### 质量标准适当性验证
- 设定的质量标准是否合适和可达？
- 是否需要调整某些要求或标准？
- 成功标准是否清晰、可衡量、可验证？

## 📋 第三阶段：制定执行计划

在需求对齐确认后，我将：

### 1. 读取执行计划结构定义
```javascript
// Claude Code内部处理流程
读取 templates/EXECUTION_PLAN.json 获取执行计划的数据结构
```

### 2. 生成项目特定执行计划
基于需求对齐结果生成：

#### 任务分解策略
- 将每个功能需求分解为具体可执行的任务
- 确保任务粒度适合自主执行（1-4小时完成）
- 明确每个任务的具体输入、输出和验收标准
- 设计清晰的任务依赖关系和执行顺序

#### 执行策略配置
- **执行方法**：渐进式、瀑布式或混合式执行
- **质量门禁**：设定代码质量、功能验证等检查点
- **自检间隔**：配置自动自检和定期深度检查
- **偏离处理**：设定偏离规划的检测和处理策略

#### 预设决策实施
- 将需求对齐中的决策转化为具体实施指导
- 配置备选方案的触发条件和选择标准
- 设定决策检查点和验证方法
- 配置决策记录和跟踪机制

#### 安全边界设定
- 定义工作区根目录和允许的操作范围
- 配置文件大小、操作数量等执行约束
- 设定安全检查和风险控制机制

### 3. 执行计划验证
- 验证计划完全覆盖所有需求
- 确保任务可执行且依赖关系清晰
- 评估执行可行性并识别潜在风险
- 确认计划支持24小时无人值守执行

## 🔧 第四阶段：准备状态管理系统

在开始执行前，我将初始化状态管理系统：

### 1. 初始化运行时状态文件
基于 [`templates/`](templates/) 中的结构定义生成运行时文件：
- **REQUIREMENT_ALIGNMENT.json**：项目特定的需求对齐文件
- **EXECUTION_PLAN.json**：项目特定的执行计划文件
- **TODO_TRACKER.json**：任务进度跟踪文件（初始状态）
- **DECISION_LOG.json**：决策记录文件（初始状态）
- **EXECUTION_STATE.json**：执行状态管理文件（初始状态）

### 2. 验证状态系统完整性
- 验证所有状态文件符合结构定义
- 确认文件间的数据关联性和一致性
- 测试状态文件的读写和更新功能
- 验证异常恢复和数据备份机制

### 3. 配置执行环境
- 设定上下文管理和刷新策略
- 配置监控指标和健康检查
- 设定执行日志和跟踪机制
- 配置异常检测和自动恢复

## 🎯 使用指南

### 启动完整工作流程
```bash
/autopilot-continuous-start
```
我将：
1. 引导你进行结构化的需求深度讨论
2. 基于讨论结果动态生成需求对齐文件
3. 制定详细的执行计划和任务分解
4. 初始化完整的状态管理系统
5. 准备开始自主执行和持续状态更新

### 工作流程特点
- **需求驱动**：一切从你的具体需求任务开始
- **深度讨论**：确保所有重要决策都经过充分讨论
- **动态生成**：基于讨论结果生成项目特定的规划和状态文件
- **自主执行**：Claude Code完全自主管理执行过程和状态更新
- **持续对齐**：执行过程中持续验证与原始需求的一致性

### 后续命令支持
- **`/autopilot-execute`**：继续按计划自主执行
- **`/autopilot-status`**：查看执行状态和进度报告
- **`/autopilot-align`**：验证和更新需求对齐

## 📝 注意事项

### 工作流程严肃性
- 严格遵循定义的工作流程，不跳过任何阶段
- 确保每个阶段的输出都完整且符合要求
- 任何偏离都需要记录原因并获得确认

### 文件动态性
- 所有JSON文件都是基于讨论动态生成的
- 不是预置模板，而是具体项目需求的反映
- 每个项目都会生成独特的需求对齐和执行计划

### 执行自主性
- 一旦开始执行，Claude Code将完全自主管理
- 自主更新所有状态文件，无需外部干预
- 持续验证执行结果与需求的一致性

---

现在开始启动AutoPilot工作流程。请告诉我你的具体需求任务，我将引导你完成从需求讨论到自主执行的完整流程。