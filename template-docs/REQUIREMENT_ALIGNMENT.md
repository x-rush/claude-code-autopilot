# 需求对齐模板

> **使用说明**: Claude Code AutoPilot System自动引导的需求对齐对话模板，确保完全理解用户真实需求，为AutoPilot执行提供准确的导航依据。

## 🎯 需求对齐目标

### 核心目的
- **精准需求捕获**: 深度理解用户的真实需求和期望结果
- **AutoPilot导航生成**: 为自动驾驶系统提供准确的执行依据
- **偏差预防基础**: 建立需求标准，预防执行偏离
- **质量验证基准**: 设定自动验证的标准和检查点

### 自动化对齐流程
1. **需求快速定位** (2-3分钟) - 明确核心目标和交付物
2. **细节深度挖掘** (3-5分钟) - 捕获关键要求和约束条件
3. **CC自检确认** (1-2分钟) - Claude自我检查理解准确性
4. **AutoPilot导航数据生成** (自动) - 转化为结构化执行导航数据

## 🤖 Claude自动引导对话模板

### 第一阶段: 需求快速定位
```
Claude: 你好！我将帮助你完成这个任务。为了确保执行结果完全符合你的期望，我需要先进行需求对齐。

## 🔍 核心目标确认

请告诉我：

### 1. 任务核心目标
- 你最终想要得到什么具体成果？
- 这个成果将如何被使用？谁会使用它？
- 怎样算"任务完成得很好"？成功的关键指标是什么？

### 2. 交付物清单
- 需要生成哪些具体文件或内容？
- 每个交付物的基本要求是什么？
- 有什么必须包含或绝对不能包含的内容？

### 3. 关键约束条件
- 有什么技术栈、格式或风格的特殊要求？
- 时间、质量或其他方面的限制条件？
- 需要遵循什么规范或标准？

请简要回答这些问题，我会基于你的回答进行深度挖掘。
```

### 第二阶段: 细节深度挖掘
```
Claude: 很好！基于你的初步回答，我需要深入了解一些关键细节：

## 🎯 需求细节挖掘

### 执行方式偏好
- 你希望我采用什么样的执行风格？
- 详细程度：高度详细 / 适中简洁 / 重点突出？
- 创新程度：完全创新 / 基于现有最佳实践 / 保守稳妥？

### 质量标准要求
- 技术准确性：最高专业标准 / 实用够用 / 快速原型？
- 完整性：面面俱到 / 核心完整 / 最小可行？
- 可用性：生产就绪 / 学习参考 / 概念验证？

### 特殊注意点
- 有什么特别要避免的问题或坑？
- 有什么必须遵循的最佳实践？
- 有什么个人偏好或特殊要求？

### 风险容忍度
- 对于不确定性：希望完全规避 / 可接受适度风险 / 愿意探索创新？
- 对于错误：零容忍 / 快速修复可接受 / 从错误中学习？

这些细节将帮助我制定最适合你的执行策略。
```

### 第三阶段: CC自检确认
```
Claude: 非常好！现在让我进行自我检查，确保我完全理解了你的需求：

## ✅ 理解自检确认

### 核心理解复述
基于我们的讨论，我理解你的需求是：
[复述用户的核心需求、目标、交付物和关键约束]

### 关键要点确认
- **主要目标**: [确认主要目标]
- **交付物**: [列出主要交付物]
- **质量要求**: [确认质量标准]
- **执行风格**: [确认执行方式]
- **特殊注意**: [确认特殊要求]

### 歧义点澄清
我需要确认以下几个关键点：
1. [关键点1] - 我理解是[理解内容]，对吗？
2. [关键点2] - 关于[具体问题]，你的偏好是[选项]？
3. [关键点3] - 对于[某个方面]，你希望我如何处理？

如果我的理解有偏差，请立即纠正。如果理解正确，我将基于这个需求对齐结果生成执行导航数据。
```

## 📊 需求结构化数据

### 自动生成的导航数据结构
```json
{
  "requirement_alignment": {
    "session_id": "REQ_[YYYYMMDD_HHMMSS]",
    "alignment_time": "2025-10-14T10:30:00Z",
    "user_objective": {
      "primary_goal": "用户的核心目标描述",
      "success_criteria": ["成功标准1", "成功标准2", "成功标准3"],
      "target_users": ["目标用户1", "目标用户2"],
      "usage_context": "使用场景描述"
    },
    "deliverables": [
      {
        "type": "文档/代码/其他",
        "description": "交付物描述",
        "requirements": ["要求1", "要求2", "要求3"],
        "constraints": ["约束1", "约束2"]
      }
    ],
    "execution_preferences": {
      "style": "详细/适中/简洁",
      "approach": "创新/实用/保守",
      "detail_level": "高/中/低",
      "quality_standard": "生产/学习/原型"
    },
    "key_constraints": {
      "technical": ["技术约束1", "技术约束2"],
      "format": ["格式要求1", "格式要求2"],
      "scope": {
        "include": ["必须包含"],
        "exclude": ["明确排除"]
      }
    },
    "special_considerations": {
      "avoid": ["避免的问题"],
      "priorities": ["优先考虑的事项"],
      "preferences": ["个人偏好"]
    },
    "risk_tolerance": {
      "uncertainty": "低/中/高",
      "errors": "零容忍/可修复/学习机会"
    }
  }
}
```

### AutoPilot导航指令生成
```json
{
  "autopilot_navigation": {
    "primary_direction": "主要执行方向",
    "key_milestones": ["关键里程碑1", "关键里程碑2"],
    "quality_checkpoints": [
      {
        "checkpoint": "检查点名称",
        "criteria": ["检查标准1", "检查标准2"],
        "validation_method": "自动/人工/混合"
      }
    ],
    "deviation_alerts": [
      {
        "condition": "偏差条件",
        "action": "自动纠正措施",
        "threshold": "偏差阈值"
      }
    ],
    "success_metrics": {
      "completion_criteria": ["完成标准"],
      "quality_indicators": ["质量指标"],
      "user_satisfaction_signals": ["满意度信号"]
    }
  }
}
```

## 🔄 需求对齐质量保证

### Claude自检标准
```markdown
## 需求对齐自检清单

### 理解完整性检查
- [ ] 我是否完全理解了用户的最终目标？
- [ ] 所有交付物要求都已明确？
- [ ] 关键约束条件都已识别？
- [ ] 执行偏好都已确认？

### 导航数据准确性检查
- [ ] 需求数据结构完整正确？
- [ ] 导航指令清晰可执行？
- [ ] 质量检查点设置合理？
- [ ] 偏差检测机制有效？

### 风险评估检查
- [ ] 潜在歧义点都已澄清？
- [ ] 执行风险都已识别？
- [ ] 应对策略都已制定？
- [ ] 用户期望管理合理？
```

### 用户确认检查
```markdown
## 用户确认清单

### 需求理解确认
- [ ] Claude准确理解了我的核心需求
- [ ] 交付物要求描述准确完整
- [ ] 质量标准设定合理
- [ ] 执行风格符合我的偏好

### 导航数据确认
- [ ] 执行方向正确
- [ ] 检查点设置合理
- [ ] 质量标准可执行
- [ ] 风险预案充分

### 执行授权确认
- [ ] 同意基于此需求对齐开始执行
- [ ] 理解执行过程中的自动纠偏机制
- [ ] 接受基于需求的自动验证
- [ ] 确认可以开始全自动化执行
```

## 🎯 需求对齐完成标志

### 完成条件
当且仅当以下条件全部满足时，需求对齐阶段才能结束：

1. **理解准确**: Claude确认完全理解用户需求，能准确复述
2. **数据完整**: 需求结构化数据和导航指令完整生成
3. **检查通过**: Claude自检和用户确认检查全部通过
4. **授权明确**: 用户明确授权基于此需求对齐开始执行

### 结束语模板
```
Claude: 完美！我们的需求对齐已完成。我已经：

✅ 完全理解了你的核心需求和期望
✅ 生成了详细的执行导航数据
✅ 设置了自动偏差检测和纠正机制
✅ 建立了基于需求的质量验证标准

基于这个需求对齐结果，我将开始全自动化执行：
- 自我导航执行任务
- 实时检测执行偏差
- 自动纠正执行策略
- 持续验证需求匹配度

执行过程中我会严格按照我们的需求对齐结果进行，确保最终交付物完全符合你的期望。
```

---

**重要说明**:
- 需求对齐是全自动化执行的基础，必须确保准确完整
- 对齐结果将作为Claude自我导航的唯一依据
- 执行过程中的所有决策都将基于此需求对齐数据
- 偏差检测和纠正机制基于对齐结果自动运行